
<!DOCTYPE html>
<html>
<head>
    <title>Sign Up - Lulu Footwear</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Google Sign-In Library -->
    <meta name="google-signin-client_id" content="YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-C8f41J4fH+elcFRWqFL9uQaf8UIaX8+5ynmbbP0Udd2xLklSTABFJG0pOQU5hFFcERKnkIDwXK7GQUjKDmF0hA==" crossorigin="anonymous" referrerpolicy="no-referrer" />


    <style>
      .error-message{
        color:red;
        font-size:16px;
        display: none;
      }
      .google-button {
        outline: none;
        box-shadow: none;
    }

    .google-button:focus {
        outline: none;
        box-shadow: none;
    }
    </style>
</head>
<body>
    <section class="h-100">
        <div class="container h-100">
          <div class="row justify-content-sm-center h-100">
            <div class="col-xxl-4 col-xl-5 col-lg-5 col-md-7 col-sm-9">
              <div class="text-center my-5">
                <svg xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 512 512">
                  <path
                    d="M399 384.2C376.9 345.8 335.4 320 288 320H224c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z" />
                </svg>
              </div>
              <div class="card shadow-lg my-5">
                <div class="card-body p-5 mt">
                  <h1 class="fs-4 card-title fw-bold mb-4 text-center">
                    Sign Up
                  </h1>
    
                  <form  id="signform" method="POST" class="needs-validation" action="/signup">
                    <% if (locals.message) { %>
                      <div class="alert alert-danger text-center" id="enterUsername">
                        <%= message %>
                      </div>
                    <% } %>
    
                    <div class="mb-3">
                      <label class="mb-2 text-muted" for="username">Username</label>
                      <input id="username" type="text" class="form-control" name="username"  />
                     <div id="error1" class="error-message"></div> 
                    </div>
    
                    <div class="mb-3">
                      <label class="mb-2 text-muted" for="email">Email</label>
                      <input id="email" type="email" class="form-control" name="email"  />
                      <div id="error2" class="error-message"></div> 
                    </div>
    
                    <div class="mb-3">
                      <label class="mb-2 text-muted" for="mobile">Mobile</label>
                      <input id="mobile" type="text" class="form-control" name="mobile"  />
                      <div id="error3" class="error-message"></div> 
                    </div>
    
                    <div class="mb-3">
                      <div class="mb-2 w-100">
                        <label class="text-muted" for="password">Password</label>
                      </div>
                      <input id="password" type="password" class="form-control" name="password"  />
                      <div id="error4" class="error-message"></div> 
                    </div>
                    
                    <div class="mb-3">
                      <div class="mb-2 w-100">
                        <label class="text-muted" for="confirmPassword">Confirm Password</label>
                      </div>
                      <input id="confirmPassword" type="password" class="form-control" name="confirmPassword" />
                      <div id="error5" class="error-message"></div> 
                    </div>

                    <div class="mb-3">
                      <label class="mb-2 text-muted" for="referralCode">Referral Code (Optional)</label>
                      <input id="referralCode" type="text" class="form-control" name="referralCode" />
                    </div>
    
                    <div class="d-flex align-items-center justify-content-center">
                      <button type="submit" class="btn btn-primary mt-3" id="signup">
                        Continue
                      </button>
                    </div>

                    <!-- Sign Up with Google Button -->
                    <!-- <div class="text-center mt-3">
                      <p>or sign up with</p>
                      <div id="g_id_onload"
                        data-client_id="YOUR_GOOGLE_CLIENT_ID"
                        data-context="signup"
                        data-ux_mode="popup"
                        data-login_uri="/google-signup"
                        data-auto_prompt="false">
                      </div>
                      <div class="g_id_signin" data-type="standard"></div>
                    </div> -->
                    <div class="text-center mt-3">
                      <!-- <p>or sign up with</p> -->
                      <a href="/auth/google">
                          <button class="btn btn-outline-primary btn-block mb-2 google-button" type="button">
                              <img src="https://img.icons8.com/color/48/000000/google-logo.png" alt="Google Logo" width="20px" height="20px" class="mr-2">
                              or sign up with Google
                          </button>
                      </a>
                  </div>
                  

                  </form>
                </div>
                <div class="card-footer py-3 border-0">
                  <div class="text-center">
                    Already have an account?
                    <a href="/login" class="text-dark">Login</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <script>
       document.addEventListener("DOMContentLoaded", function() {
        const signform = document.getElementById("signform");

        signform.addEventListener("submit", function(e) {
          let formIsValid = true;

          // Validation Functions
          if (!nameValidateChecking()) formIsValid = false;
          if (!emailValidaChecking()) formIsValid = false;
          if (!mobileValidateChecking()) formIsValid = false;
          if (!passValidateChecking()) formIsValid = false;

          if (!formIsValid) {
            e.preventDefault(); // Prevent form submission if invalid
          }
        });

        function nameValidateChecking() {
          const nameid = document.getElementById("username");
          const error1 = document.getElementById("error1");
          const nameVal = nameid.value.trim();
          const namepattern = /^[A-Za-z\s]+$/;

          if (nameVal === "" || !namepattern.test(nameVal)) {
            error1.style.display = "block";
            error1.innerHTML = "Please enter a valid name";
            return false;
          } else {
            error1.style.display = "none";
            error1.innerHTML = "";
            return true;
          }
        }

        function emailValidaChecking() {
          const emailid = document.getElementById("email");
          const error2 = document.getElementById("error2");
          const emailVal = emailid.value.trim();
          const emailpattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

          if (!emailpattern.test(emailVal)) {
            error2.style.display = "block";
            error2.innerHTML = "Invalid Email Format";
            return false;
          } else {
            error2.style.display = "none";
            error2.innerHTML = "";
            return true;
          }
        }

        function mobileValidateChecking() {
          const mobileid = document.getElementById("mobile");
          const error3 = document.getElementById("error3");
          const mobileVal = mobileid.value.trim();

          if (mobileVal.length !== 10 || isNaN(mobileVal)) {
            error3.style.display = "block";
            error3.innerHTML = "Please enter a valid 10-digit mobile number";
            return false;
          } else {
            error3.style.display = "none";
            error3.innerHTML = "";
            return true;
          }
        }

        function passValidateChecking() {
          const passwordid = document.getElementById("password");
          const cpassid = document.getElementById("confirmPassword");
          const error4 = document.getElementById("error4");
          const error5 = document.getElementById("error5");
          const passVal = passwordid.value.trim();
          const cpassVal = cpassid.value.trim();
          const alpha = /[a-zA-Z]/;
          const digit = /\d/;

          if (passVal.length < 8 || !alpha.test(passVal) || !digit.test(passVal)) {
            error4.style.display = "block";
            error4.innerHTML = "Password should contain at least 8 characters, including numbers and letters";
            return false;
          } else {
            error4.style.display = "none";
            error4.innerHTML = "";
          }

          if (passVal !== cpassVal) {
            error5.style.display = "block";
            error5.innerHTML = "Passwords do not match";
            return false;
          } else {
            error5.style.display = "none";
            error5.innerHTML = "";
            return true;
          }
        }
      });
    </script>
</body>
</html>